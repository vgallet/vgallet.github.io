<!doctype html>

<html lang="en-us">

<head>
  <title>VGA</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="vga" />
  <meta name="author" content="Victor" /><meta name="generator" content="Hugo 0.68.3" />
    

  <meta property="og:title" content="Builder Pattern, a first step to DSL" />
<meta property="og:description" content="builder pattern &amp; DSL" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vgallet.github.io/posts/builder-pattern/" />
<meta property="og:image" content="https://vgallet.github.io/images/toronto.jpg"/>
<meta property="article:published_time" content="2019-11-30T20:06:38+01:00" />
<meta property="article:modified_time" content="2019-11-30T20:06:38+01:00" />

  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://vgallet.github.io/images/toronto.jpg"/>

<meta name="twitter:title" content="Builder Pattern, a first step to DSL"/>
<meta name="twitter:description" content="builder pattern &amp; DSL"/>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" />
  <script src="https://kit.fontawesome.com/b76b73e8e8.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  <link rel="stylesheet" type="text/css" href="/css/styles.css" /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://vgallet.github.io/images/sarah-kilian-52jRtc2S_VE-unsplash.jpg"/>

<meta name="twitter:title" content="The day I erased all the customer data"/>
<meta name="twitter:description" content="This story takes place in a company where I previously worked. Back then, I was a young developer and I was tasked with the deletion of former customer’s data."/>

</head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="/">VGA</a>
            </h1>

      <ul id="social-media">
             <li>
               <a href="https://github.com/vgallet" title="GitHub">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://twitter.com/GalletVictor" title="Twitter">
               <i class="fab fa-twitter fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://linkedin.com/in/gallet-victor-047285109" title="LinkedIn">
               <i class="fab fa-linkedin fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://stackoverflow.com/users/4787113/victor-gallet" title="StackOverflow">
               <i class="fab fa-stack-overflow fa-lg"></i>
               </a>
             </li>
      </ul>
      
    </header>

    
<nav>
    <ul>
        
    </ul>
</nav>

    <main>




<article>

    <h1>The day I erased all the customer data</h1>

    
        <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2020-05-23T17:39:46&#43;02:00">May 23, 2020</time>
        </li>
        
        <li>
            Categories:
            <em>
                
                    
                    <a href="/categories/blunder">blunder</a>
                
                    , 
                    <a href="/categories/learning">learning</a>
                
            </em>
        </li>
        

        

        <li>2 minutes read</li>
    </ul>
</aside>

    

    <p><img src="/images/sarah-kilian-52jRtc2S_VE-unsplash.jpg" alt="icecream">
<em>Photo by Sarah Kilian on Unsplash</em></p>
<hr>
<p>This story takes place in a company where I previously worked. Back then, I was a young developer and I was tasked with the deletion of former customer’s data.</p>
<p>I checked the database and identified all the tables that would be impacted. Then, I wrote a SQL script to delete all the rows concerning this particular customer.
This script was not directly executed in the production environment. Instead, all changes are included in a version control system tool equivalent to Liquibase or Flyway.</p>
<p><img src="https://i.giphy.com/media/CzbiCJTYOzHTW/giphy.webp" alt="done"></p>
<p>A few days later, our support team received a phone call from a customer who could no longer find his data on the application. After performing an investigation, we came to the realization that all customer data were deleted from the database. The main culprit was none other than my SQL script. Indeed, some <code>DELETE</code> SQL statements were missing the <code>WHERE</code> clause. In the meantime, the ops team tried to restore the production database with the most recent backup.</p>
<p>At that time, I was petrified and I dreaded what my boss could say to me.</p>
<p><img src="https://i.giphy.com/media/zdFNkQ6vGJADC/giphy.webp" alt="petrified"></p>
<p>To my surprise, he did not single me out but blamed all the team and particularly our quality checks. In fact, he simply wanted to answer this question: How could this blunder have made its way to the production environment?</p>
<p><img src="https://i.giphy.com/media/3o7aTskHEUdgCQAXde/giphy.webp" alt="done"></p>
<p>First of all, the SQL script was merged on the master branch, with at least 2 approbators on my pull request. So, it means that our code review was not thorough enough.
Secondly, this script passed all our End to End tests and manual testing.
Finally, we discovered that the database backup system was not working properly and the last available backup was at least 2 months old. Luckily, it had a fairly limited impact on our business, since it happened during summertime.</p>
<p>In my opinion, we can learn two things about this little story. In the first place, a good team and a good manager will not put the blame on you if you have done a mistake. Everyone makes mistakes and it’s a good way to question some of the practices.
In the second place, it is important for a team to insure itself against the risk of fault, error or minor oversight. Despite quality processes, it’s important to test and prove those processes.</p>
<p><em>Thanks to Marc Barret for his time and his review</em></p>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://vgallet.github.io/posts/covid19-analysis/"><i class="fa fa-chevron-circle-left"></i> Covid19 Analysis</a>
        </li>
        
        
    </ul>
</section>
    





</main>
    <footer>
        <h6> |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://vgallet.github.io/index.xml">Subscribe </a></h6>
    </footer>
</div>
<script src="/js/scripts.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-153662880-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


</body>

</html>

